<!--充值-->
<div class="right-area right-assets-height recharge col-md-8 col-lg-9">
  <div class="currency-style">
    <div class="title">
      <span class="tip text-center">充值</span>
    </div>

    <!--end 安全认证提示 -->
    <div class="main user-right-h" ng-if="userType !== 4 && securityStatus.realNameAuthStatus === 1">
      <form ng-if="bankCardStatus === 'VERIFIED'" class="col-md-10 col-md-offset-1 record-w margin-l-40" name="rechargeForm">
        <div class="row">
          <div class="text-recharge-tip margin-t-20 margin-b-30">
            <div class="col-md-2 text-right"><b>可用余额：</b></div>
            <div class="col-md-2"><span class="ft-red4 ft-24">{{ balance || "0" | number:2}}</span>&nbsp;&nbsp;元</div>
            <!-- <a class="col-md-2 col-md-offset-6 cursor-pt supportBank" ng-click="lookBink = !lookBink" href="javascript:;" focus-blur>支持银行及限额</a> -->
            
          </div>
        </div>
        <div class="row margin-t-20 ">
          <div class="payment col-md-2 cursor-pt margin-l-45 margin-b-5" ng-class="{'pay-active':payment ==4 || payment == 3}" ng-click="selectPay(4)"><b>快捷支付方式</b></div>
          <div class="col-md-2 cursor-pointer pay-typeUCF" ng-class="{'pay-active':payment ==3}" ng-click="selectPay(3)"><span></span>先锋支付</div>
          <div class="col-md-2 cursor-pointer pay-typeFU" ng-class="{'pay-active':payment ==4}" ng-click="selectPay(4)"><span></span>易宝支付</div>
          <div class="col-md-1 position-re hand-tip"><img src="/images/user-center/hand.png" class="display-inbl margin-t--5" width="35%" alt=""><span class="tip position-ab">支付方式可切换哦！</span></div>
          <a class=" col-md-2 col-md-offset-2 cursor-pt supportBank" href="javascript:;" focus-blur ng-click="showSupportBank = !showSupportBank;">支持银行及限额</a>
          <table class="supportList border-grey1" ng-if="payment !== 2 && showSupportBank">
            <thead>
              <tr class="ftw-b border-grey1">
                <td>支持银行</td>
                <td>单笔/单日/单月</td>
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat="list in bankCodeList">
                <td><img ng-src="{{list.src}}" >{{list.bankName}}</td>
                <td>
                  <span ng-if="list.singleLimit < 0">不限</span>
                  <span ng-if="list.singleLimit > 0">{{list.singleLimit%10000 !== 0 ? list.singleLimit : list.singleLimit/10000 + 'w'}}</span>/
                  <span ng-if="list.dayLimit < 0">不限</span>
                  <span ng-if="list.dayLimit > 0">{{list.dayLimit%10000 !== 0 ? list.dayLimit : list.dayLimit/10000 + 'w'}}</span>/
                  <span ng-if="list.monthLimit < 0">不限</span>
                  <span ng-if="list.monthLimit > 0">{{list.monthLimit%10000 !== 0 ? list.monthLimit : list.monthLimit/10000 + 'w'}}</span>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <hr color="#e5e5e6" width="90%" height="2px" class="margin-t-0 margin-auto">
        <div class="row margin-t-40 margin-b-50 margin-l-30">
          <div>
            <div class="fl margin-t--5 padding-l-30 margin-r-40">
              <img ng-src="{{userCurrenBank.src}}">{{ userCard.openBank}}
            </div>
            <div class="fl padding-0 margin-r-40">{{userCard.cardNo}}</div>
            <div class="fl text-right margin-r-40">
              <span class="margin-r-5">借记卡</span>|<span class="margin-l-5">快捷</span>
            </div>
            <div class="fl text-center">单笔/单日/单月限额：
            <!-- {{ userCurrenBank.dayLimit}} -->
              <span ng-if="userCurrenBank.singleLimit < 0">不限</span>
              <span ng-if="userCurrenBank.singleLimit > 0">{{userCurrenBank.singleLimit%10000 !== 0 ? userCurrenBank.singleLimit : userCurrenBank.singleLimit/10000 + 'w'}}</span>/
              <span ng-if="userCurrenBank.dayLimit < 0">不限</span>
              <span ng-if="userCurrenBank.dayLimit > 0">{{userCurrenBank.dayLimit%10000 !== 0 ? userCurrenBank.dayLimit : userCurrenBank.dayLimit/10000 + 'w'}}</span>/
              <span ng-if="userCurrenBank.monthLimit < 0">不限</span>
              <span ng-if="userCurrenBank.monthLimit > 0">{{userCurrenBank.monthLimit%10000 !== 0 ? userCurrenBank.monthLimit : userCurrenBank.monthLimit/10000 + 'w'}}</span>
            </div>
          </div>
          
          <!-- <a class=" col-md-2 cursor-pt supportBank padding-l-5" ng-click="changeCard();" href="javascript:;">更换其他银行卡</a> -->
        </div>
        <div class="row margin-t-20">
          <div class="payment col-md-2 cursor-pt margin-l-45 margin-b-5" ng-class="{'pay-active':payment ==2}" ng-click="selectPay(2)"><b>网银支付方式</b></div>
          <div class="col-md-2 cursor-pointer pay-typeUMP" ng-class="{'pay-active':payment ==2}" ng-click="selectPay(2)"><span></span>易宝支付</div>
        </div>
        <hr color="#e5e5e6" width="90%" height="2px" class="margin-t-0 margin-auto">
        <div class="row margin-t-25">
          <div class="margin-b-15 margin-t-10">
            <div class="col-md-4 text-right text-recharge-tip ft-16 margin-t-5 margin-r-30"><b>充值金额</b></div>
            <input id="recharge-input" name="amount" type="number" min="0" class="verify-input fl mgn-top7" ng-model="rechargeAmount" ng-pattern="/^[0-9]*(\.[0-9]{1,2})?$/" ng-focus required placeholder="{{bankRemainHolder}}" id="amount"/>
          </div>
          <div class="row col-md-10 col-md-offset-4 text-left ft-12 ft-red4" ng-show="rechargeForm.amount.$dirty">
            <p class="padding-l-15" ng-show="(rechargeForm.amount.$error.pattern || rechargeAmount < 3) && (payment ==1 || payment ==3 )">请输入大于等于3的数字(最多精确到小数点后两位)</p>
            <p class="padding-l-15" ng-show="(rechargeForm.amount.$error.pattern || rechargeAmount == 0) && payment ==2 ">请输入大于0的数字(最多精确到小数点后两位)</p>
            <p class="padding-l-15" ng-show="rechargeForm.amount.$error.required && !rechargeForm.amount.$focused">充值金额不能为空</p>
            <p class="padding-l-15 " ng-show="rechargeAmount > bankRemain && payment !== 2">该卡本次最多充值{{bankRemain | number:2}}元</p>
          </div>
          <div class="col-md-5 col-md-offset-4 padding-l-30 margin-t-10 text-left ft-13">充值后账户余额<span class="ft-red5">&nbsp;{{ balance + rechargeAmount || "0" | number:2}}&nbsp;</span>元</div>
        </div>
        
        <div class="col-md-4 col-md-offset-3 margin-t-15">
          <div class="form-group col-xs-12 margin-l-15" ng-if="payment !== 2">

            <input type="button" value="确认充值" id="recharge-virify-btn" class="border-half cursor-pointer ft-16" ng-click="recharge(rechargeAmount)" ng-disabled="rechargeForm.$invalid" ng-class="{'btn-recharge-grey':rechargeForm.$invalid || rechargeAmount > bankRemain || rechargeAmount< 3, 'btn-recharge-orange':!rechargeForm.$invalid && rechargeAmount <= bankRemain && rechargeAmount >= 3}" />
          </div>
          <div class="form-group col-xs-12 margin-l-15" ng-if="payment == 2">
            <input type="button" value="确认充值" id="recharge-virify-btn" class="border-half cursor-pointer ft-16" ng-click="recharge(rechargeAmount)" ng-disabled="rechargeForm.$invalid" ng-class="{'btn-recharge-grey':rechargeForm.$invalid || rechargeAmount == 0, 'btn-recharge-orange':!rechargeForm.$invalid && rechargeAmount != 0}" />
          </div>
        </div>
      </form>
      <div ng-if="bankCardStatus !== 'VERIFIED'" class="col-md-10 col-md-offset-1 bg-grey6 margin-t-20 record-w margin-l-40">
        <p class="verify-tip col-md-9 col-md-offset-2 margin-t-20">充值需要绑定银行卡，请您前往<a ng-click="toBindBank()">【银行资金存管系统】</a>完成绑卡操作</p>
      </div>
      <div  ng-hide="securityStatus.realNameAuthStatus !== 1" class="col-md-10 col-md-offset-1 border-bd-grey margin-t-15 margin-b-20 record-w margin-l-40"></div>
      <div class="col-md-10 col-md-offset-1 bg-yellow margin-t-20 record-w margin-l-40" ng-hide="securityStatus.realNameAuthStatus !== 1">
        <div class="ft-14 padding-20 padding-b-50">
          <p class="ft-red4"><i class="fa fa-tint ft-red4" style="margin-right:15px;"></i><b>温馨提示:</b></p>
          <div class="padding-l-20">
            <p ng-if="pay_company === 'cgt'" class="ft-red4"><b>1. 您的账户资金将由海口联合农商银行资金存管系统进行存管；</b></p>
            <p ng-if="pay_company === 'yeepay'" class="ft-red4"> <b>1. 您的账户资金将由有银监会颁发牌照的银行存管机构托管；</b></p>
            <p>2. 首先请注意您是否开通网上银行等功能，可能存在充值超过限额（充值限额，是银行、第三方支付平台、和用户您自己设定的</p><p>支付限额决定的，取三者最小值），以免造成充值不成功；</p>
            <p>3. 禁止洗钱、信用卡套现、虚假交易等行为，一经发现并确认，将终止该账户的使用；</p>
            <p>4. 如果充值金额没有及时到账，请联系客服，400-990-7626。</p>
          </div>
        </div>
      </div>
    </div>

    <div class="main" ng-if="userType == 4 && securityStatus.realNameAuthStatus === 1">
      <form class="col-md-5" name="transferForm" ng-show="bankCardStatus === 'VERIFIED'" style="padding-right:30px;">
        <div class="row">
          <div class="form-group mgn-top">
            <p>
              <label class="col-md-3 col-lg-2">可转账余额：</label>
              <span class="ft-red ft-24">{{ balance || "0" | number:2}}</span>元</p>
          </div>
        </div>
        <div class="row">
          <div class="form-group">
            <label class="col-md-5">转账金额：</label>
            <input name="amount" type="text" class="verify-input" ng-model="transferAmount" ng-pattern="/^[0-9]*(\.[0-9]{1,2})?$/" ng-foucus required autofocus/><span>&nbsp;&nbsp;元</span>
            <div class="user-tips-area col-md-offset-2 col-lg-offset-2" ng-show="transferForm.amount.$dirty && transferForm.amount.$error.pattern">
              <p class="input-tips user-input-tips security-stl"><i class="fa fa-times-circle-o login-check-img"></i>请输入数字(最多精确到小数点后两位)</p>
            </div>
            <div class="user-tips-area col-md-offset-2 col-lg-offset-2" ng-show="transferForm.amount.$dirty && transferForm.amount.$error.required && !transferForm.amount.$focused">
              <p class="input-tips user-input-tips security-stl"><i class="fa fa-times-circle-o login-check-img"></i>充值金额不能为空</p>
            </div>
          </div>
        </div>
        <div class="row col-md-10 col-md-offset-2">
          <div class="form-group">
            <input type="button" value="确认转账" class="btn-recharge-orange" ng-click="transferToPlaform(transferAmount)" ng-disabled="transferForm.$invalid" ng-class="{'btn-recharge-orange':transferForm.$invalid, 'blue-button':!transferForm.$invalid}" />
          </div>
        </div>
      </form>
      <p ng-if="bankCardStatus !== 'VERIFIED'" class="verify-tip col-md-9 col-md-offset-2 margin-t-20">充值需要绑定银行卡，请您前往<a ng-click="toBindBank()">【银行资金存管系统】</a>完成绑卡操作</p>
      <div class="col-md-6" style="border-left:1px dashed #dadada;padding-left:50px;">
        <div class="ft-14">
          <p><i class="fa fa-tint" style="margin-left:-20px;margin-right:15px;"></i>温馨提示:</p>
          <p>1. 您的账户资金将由有银监会颁发牌照的银行存管机构存管；</p>
          <p>2. 首先请注意您是否开通网上银行等功能,可能存在充值超过限额：（充值限额，是银行、第三方支付平台、和用户您自己设定的支付限额决定的，取三者最小值）以免造成充值不成功；</p>
          <p>3. 禁止洗钱、信用卡套现、虚假交易等行为，一经发现并确认，将终止该账户的使用；</p>
          <p>4. 如果充值金额没有及时到账，请联系客服，400-990-7626。</p>
        </div>
      </div>
    </div>

    <!--start 安全认证提示  securityStatus.realNameAuthStatus !== 1 未认证"-->
    <div class="main"  ng-if="!securityStatus.realNameAuthStatus || securityStatus.realNameAuthStatus !== 1">
      <div class="col-md-12 text-center">
        <img src="/images/unbind.png" alt="" class="margin-t-20">
        <p class="margin-t-20">您尚未开通银行存管账户！</p>
        <p class="padding-b-30"><button class="btn btn-primary-orange ft-18 margin-t-10 bg-btn-red padding-l-45 padding-r-45" ng-click="toRealNameAuth()">开通银行存管账户</button></p>
        <!-- <button class="col-md-4 col-md-offset-4 btn-recharge-red margin-t-20" ui-sref="root.userCenter.security-settings">开通银行存管账户</button> -->
      </div>
    </div>
  </div>
</div>
